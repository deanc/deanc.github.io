<!doctype html><html><head><meta charset=utf-8><meta name=generator content><title>Getting a twitter user's latest posts using API v1.1 and Guzzle (PHP)
</title><meta property="og:title" content="Getting a twitter user's latest posts using API v1.1 and Guzzle (PHP)"><meta name=description content="I&rsquo;ll keep this brief. Install Guzzle however you wish, but I recommend using composer:
{
    &#34;require&#34;: {
        &#34;guzzle/guzzle&#34;: &#34;~3.1.1&#34;
    }
}
Then use the following code:
$twitter_client = new \Guzzle\Http\Client('https://api.twitter.com/{version}', array(
    'version' => '1.1'
));
$twitter_client->addSubscriber(new \Guzzle\Plugin\Oauth\OauthPlugin(array(
    'consumer_key'  => TWITTER_CONSUMER_KEY,
    'consumer_secret' => TWITTER_CONSUMER_SECRET,
    'token'       => TWITTER_ACCESS_TOKEN,
    'token_secret'  => TWITTER_ACCESS_TOKEN_SECRET
)));

$request = $twitter_client->get('statuses/user_timeline.json');
$request->getQuery()->set('count', 5);
$request->getQuery()->set('screen_name', 'YOURUSERNAME');
$response = $request->send();

$tweets = json_decode($response->getBody());
Don&rsquo;t forget to put your constants somewhere."><meta property="og:description" content="I&rsquo;ll keep this brief. Install Guzzle however you wish, but I recommend using composer:
{
    &#34;require&#34;: {
        &#34;guzzle/guzzle&#34;: &#34;~3.1.1&#34;
    }
}
Then use the following code:
$twitter_client = new \Guzzle\Http\Client('https://api.twitter.com/{version}', array(
    'version' => '1.1'
));
$twitter_client->addSubscriber(new \Guzzle\Plugin\Oauth\OauthPlugin(array(
    'consumer_key'  => TWITTER_CONSUMER_KEY,
    'consumer_secret' => TWITTER_CONSUMER_SECRET,
    'token'       => TWITTER_ACCESS_TOKEN,
    'token_secret'  => TWITTER_ACCESS_TOKEN_SECRET
)));

$request = $twitter_client->get('statuses/user_timeline.json');
$request->getQuery()->set('count', 5);
$request->getQuery()->set('screen_name', 'YOURUSERNAME');
$response = $request->send();

$tweets = json_decode($response->getBody());
Don&rsquo;t forget to put your constants somewhere."><meta property="og:url" content="https://deanclatworthy.com/2013/07/getting-a-twitter-users-latest-posts-using-api-v1-1-and-guzzle-php/"><meta property="og:site_name" content="DeanClatworthy.com"><meta property="og:image" content="https://deanclatworthy.com//img/share.jpg"><meta name=theme-color content="#DE6262"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><link media=all rel=stylesheet href=https://deanclatworthy.com/css/fonts.min.afa67f15066f1a7b3a58de3695ac187abf3d0eeab2d5af15d2006ba2e4576d36.css><link media=all rel=stylesheet href=https://deanclatworthy.com/sass/main.min.c58d6045bb953a6ce98a2707382733e1c826720d60d19749a7ccce1a0c10f6e2.css><link rel=apple-touch-icon sizes=180x180 href=https://deanclatworthy.com//img/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://deanclatworthy.com//img/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://deanclatworthy.com//img/favicons/favicon-16x16.png><link rel=manifest href=https://deanclatworthy.com//img/favicons/site.webmanifest><link rel=mask-icon href=https://deanclatworthy.com//img/favicons/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#000000"><meta name=theme-color content="#ffffff"><link rel=alternate type=application/rss+xml title=RSS href=https://deanclatworthy.com//index.xml></head><body><a id=top></a><main><p class=go-back><a class=button href=/archive.html>&#171; Back to all articles</a></p><h1>Getting a twitter user's latest posts using API v1.1 and Guzzle (PHP)</h1><p class=date>07 July 2013</p><article><p>I&rsquo;ll keep this brief. Install <a href=http://guzzlephp.org/index.html>Guzzle</a> however you wish, but I recommend using composer:</p><div class=highlight><pre tabindex=0 style=color:#3760bf;background-color:#e1e2e7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#587539>&#34;require&#34;</span><span style=color:#587539;font-weight:700>:</span> {
</span></span><span style=display:flex><span>        <span style=color:#587539>&#34;guzzle/guzzle&#34;</span><span style=color:#587539;font-weight:700>:</span> <span style=color:#587539>&#34;~3.1.1&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Then use the following code:</p><div class=highlight><pre tabindex=0 style=color:#3760bf;background-color:#e1e2e7;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-php data-lang=php><span style=display:flex><span>$twitter_client <span style=color:#587539;font-weight:700>=</span> <span style=color:#9854f1>new</span> \Guzzle\Http\Client(<span style=color:#587539>&#39;https://api.twitter.com/{version}&#39;</span>, <span style=color:#9854f1>array</span>(
</span></span><span style=display:flex><span>    <span style=color:#587539>&#39;version&#39;</span> <span style=color:#587539;font-weight:700>=&gt;</span> <span style=color:#587539>&#39;1.1&#39;</span>
</span></span><span style=display:flex><span>));
</span></span><span style=display:flex><span>$twitter_client<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>addSubscriber</span>(<span style=color:#9854f1>new</span> \Guzzle\Plugin\Oauth\OauthPlugin(<span style=color:#9854f1>array</span>(
</span></span><span style=display:flex><span>    <span style=color:#587539>&#39;consumer_key&#39;</span>  <span style=color:#587539;font-weight:700>=&gt;</span> TWITTER_CONSUMER_KEY,
</span></span><span style=display:flex><span>    <span style=color:#587539>&#39;consumer_secret&#39;</span> <span style=color:#587539;font-weight:700>=&gt;</span> TWITTER_CONSUMER_SECRET,
</span></span><span style=display:flex><span>    <span style=color:#587539>&#39;token&#39;</span>       <span style=color:#587539;font-weight:700>=&gt;</span> TWITTER_ACCESS_TOKEN,
</span></span><span style=display:flex><span>    <span style=color:#587539>&#39;token_secret&#39;</span>  <span style=color:#587539;font-weight:700>=&gt;</span> TWITTER_ACCESS_TOKEN_SECRET
</span></span><span style=display:flex><span>)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$request <span style=color:#587539;font-weight:700>=</span> $twitter_client<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>get</span>(<span style=color:#587539>&#39;statuses/user_timeline.json&#39;</span>);
</span></span><span style=display:flex><span>$request<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>getQuery</span>()<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>set</span>(<span style=color:#587539>&#39;count&#39;</span>, <span style=color:#8c6c3e>5</span>);
</span></span><span style=display:flex><span>$request<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>getQuery</span>()<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>set</span>(<span style=color:#587539>&#39;screen_name&#39;</span>, <span style=color:#587539>&#39;YOURUSERNAME&#39;</span>);
</span></span><span style=display:flex><span>$response <span style=color:#587539;font-weight:700>=</span> $request<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>send</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$tweets <span style=color:#587539;font-weight:700>=</span> json_decode($response<span style=color:#587539;font-weight:700>-&gt;</span><span style=color:#2e7de9>getBody</span>());
</span></span></code></pre></div><p>Don&rsquo;t forget to put your constants somewhere.</p></article><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//deanclatworthy.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a><footer><p>&copy; 2024 Dean Clatworthy | <a rel="nofollow noindex" href=#top>Back to top</a></p></footer></main><script async src=/js/form.b721ea0c53adde10805845e816a2dd7821ed44493cf37adb15087e9f75a19f99.js integrity="sha256-tyHqDFOt3hCAWEXoFqLdeCHtREk883rbFQh+n3Whn5k=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-BKE986PPRZ"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-BKE986PPRZ")</script></body></html>